# ?? ??????? ????? ???? .env

## ? ????: ??????? ?? .env ????? ?????

### ???:
???? `.env` ???? **?????**! ??? `.env.example` ???? ?? ?? ???? **?????** ???.

---

## ? ??? ??:

### ????? 1: ???? ???? .env

```bash
# ?? ??? ????? (???? ???? run.py):
cp .env.example .env
```

?? ???? ???? `.env` ???? (???? example!)

---

### ????? 2: ?????? ???? .env

???? `.env` ?? ??? ?? ? ???????? ????? ?? ????:

```bash
# ??? (???):
TELEGRAM_2FA_BOT_TOKEN=2FA_BOT_TOKEN_HERE
ADMIN_BOT1_TOKEN=ADMIN_BOT1_TOKEN_HERE

# ??? (?????):
TELEGRAM_2FA_BOT_TOKEN=1234567890:ABCdef-YOUR-REAL-TOKEN
ADMIN_BOT1_TOKEN=1111111111:AAA-YOUR-REAL-TOKEN
```

---

### ????? 3: Restart ????

**???:** ??? ?? ????? `.env` **?????** ???? ?? restart ??:

```bash
# ??? ?? Ctrl+C ????? ????:
python run.py

# ??? ?? systemd ?? supervisor:
sudo systemctl restart your-service

# ??? ?? docker:
docker-compose restart
```

---

## ?? ?? ???? ???????

??? ?? restart? ????? ?? ?? ?? `.env` ???????:

```python
# ??? ????:
python3 -c "
from app.config import settings
print('? Reading from .env file')
print(f'2FA Token: {settings.TELEGRAM_2FA_BOT_TOKEN[:20]}...')
print(f'Bot 1 Token: {settings.ADMIN_BOT1_TOKEN[:20]}...')
"
```

**????? ????:**
```
? Reading from .env file
2FA Token: 1234567890:ABCdef...
Bot 1 Token: 1111111111:AAA-YO...
```

**????? ?????? (???? ?? config ???????):**
```
2FA Token: 2FA_BOT_TOKEN_HERE...
Bot 1 Token: ADMIN_BOT1_TOKEN_H...
```

---

## ?? ?????? ???????

```
/workspace/
??? .env                    ? ??? ???? ????! (?????)
??? .env.example           ? ??? ??? ????? ???
??? run.py
??? app/
?   ??? config.py
?   ??? ...
??? ...
```

---

## ? ??? ?? .env ?????????

### ???? 1: ???? .env ????? (?????????!)
```bash
# ?? ??:
ls -la .env

# ??? ??? ???:
# .env: No such file or directory
# ? ???? ??????!
```

### ???? 2: ???? ??? ?????? ????
```bash
# ??????:
.env.example   ?
env            ?
ENV            ?
.environment   ?

# ????:
.env           ?
```

### ???? 3: ???? restart ????
```bash
# ??? ?? ????? .env ????? restart ??:
# Ctrl+C
# python run.py
```

### ???? 4: ???? ?? ???? ???????
```bash
# .env ???? ?? ??? ????? ????:
/workspace/.env        ? ????
/workspace/app/.env    ? ??????
```

### ???? 5: ???????? ????? override ????
```bash
# ??? ?? shell ????? ????? ????:
export ADMIN_BOT1_TOKEN="something"

# ??? ????? override ????!
# ??? ??: unset ?? ?? shell ?? ????
unset ADMIN_BOT1_TOKEN
```

---

## ?? ??? ????

### ??? 1: ???? .env ???? ?????
```bash
ls -la .env
```

### ??? 2: ?????? .env ??????
```bash
cat .env | grep ADMIN_BOT1_TOKEN
```

### ??? 3: Python ????????
```bash
cd /workspace
python3 -c "from app.config import settings; print(settings.ADMIN_BOT1_TOKEN)"
```

### ??? 4: ???? ????????
```bash
python run.py
# ?? ?? ??? ????:
# ???? ?????: "? Default super admin created!"
```

---

## ?? ???? ???? .env

```bash
# Database
MONGODB_URL=mongodb://localhost:27017
MONGODB_DB_NAME=parental_control

# Server
SERVER_HOST=0.0.0.0
SERVER_PORT=8765
DEBUG=True

# Security
SECRET_KEY=my-super-secret-key-12345
JWT_ALGORITHM=HS256
ACCESS_TOKEN_EXPIRE_MINUTES=1440

# 2FA Bot (?????)
TELEGRAM_2FA_BOT_TOKEN=1234567890:ABCdef-MY-2FA-BOT-TOKEN
TELEGRAM_2FA_CHAT_ID=-1001234567890

# Administrator's Bots
ADMIN_BOT1_TOKEN=1111111111:AAA-DEVICES-BOT-TOKEN
ADMIN_BOT1_CHAT_ID=-1001111111111

ADMIN_BOT2_TOKEN=2222222222:BBB-SMS-BOT-TOKEN
ADMIN_BOT2_CHAT_ID=-1002222222222

ADMIN_BOT3_TOKEN=3333333333:CCC-LOGS-BOT-TOKEN
ADMIN_BOT3_CHAT_ID=-1003333333333

ADMIN_BOT4_TOKEN=4444444444:DDD-AUTH-BOT-TOKEN
ADMIN_BOT4_CHAT_ID=-1004444444444

ADMIN_BOT5_TOKEN=5555555555:EEE-FUTURE-BOT-TOKEN
ADMIN_BOT5_CHAT_ID=-1005555555555

# Telegram
TELEGRAM_ENABLED=True

# Other
PING_INTERVAL=30
CONNECTION_TIMEOUT=60
MAX_MESSAGE_SIZE=10485760
SMS_RETENTION_DAYS=180
LOGS_RETENTION_DAYS=30
ADMIN_ACTIVITY_RETENTION_DAYS=90
```

---

## ?? ?????

### ? NEVER commit .env to git!

???? `.gitignore` ?? ??:
```bash
cat .gitignore | grep .env
```

???? ?????:
```
.env
*.env
!.env.example
```

### ? ??? .env.example ?? commit ??

```bash
git add .env.example    ? OK
git add .env            ? NEVER!
```

---

## ?? ?? ????

- [ ] ???? `.env` ????? (?? .env.example)
- [ ] ?? ??? ????? ??? (???? run.py)
- [ ] ???????? ????? ?? ??????
- [ ] ???? ?? restart ????
- [ ] ??? ???? ?? python3 -c
- [ ] ??? ???? ?? ?? ????
- [ ] .env ?? ?? git ????? ?????

---

**???? ???? ??? ??? ?????! ??**

??? ???? ???? ????? ??? ??????? ?? ???? ?? ? ????? ?? ?????:

```bash
# 1. ?? ???? ????
ls -la .env

# 2. ?? ???? ?????
head -10 .env

# 3. ?? ???? Python
cd /workspace && python3 -c "from app.config import settings; print(settings.ADMIN_BOT1_TOKEN)"
```
